{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(_ref){let{onRegister}=_ref;const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");async function register(e){e.preventDefault();console.log(\"Trying to register:\",{username,password});try{// ודאי שה־URL נכון\nconst res=await axios.post(\"http://localhost:5244/register\",{username,// חייב להיות קטנה\npassword// חייב להיות קטנה\n});console.log(\"Register response:\",res.data);alert(\"נרשמת בהצלחה!\");onRegister(\"login\");// חזרה לדף הלוגין\n}catch(err){var _err$response;console.error(\"Register error:\",((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.data)||err);alert(\"שגיאה בהרשמה. בדקי את הקונסול\");}}return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:register,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Username\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{children:\"Register\"})]}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:()=>onRegister(\"login\"),children:\"\\u05D9\\u05E9 \\u05DC\\u05D9 \\u05DB\\u05D1\\u05E8 \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"})]});}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Register","_ref","onRegister","username","setUsername","password","setPassword","register","e","preventDefault","console","log","res","post","data","alert","err","_err$response","error","response","className","children","onSubmit","placeholder","value","onChange","target","type","href","onClick"],"sources":["C:/Users/user1/OneDrive/מסמכים/לימודים/פרקטיקוד/task4.1/ToDoListReact/src/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Register({ onRegister }) {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  async function register(e) {\r\n    e.preventDefault();\r\n\r\n    console.log(\"Trying to register:\", { username, password });\r\n\r\n    try {\r\n      // ודאי שה־URL נכון\r\n      const res = await axios.post(\"http://localhost:5244/register\", {\r\n        username,   // חייב להיות קטנה\r\n        password    // חייב להיות קטנה\r\n      });\r\n\r\n      console.log(\"Register response:\", res.data);\r\n      alert(\"נרשמת בהצלחה!\");\r\n      onRegister(\"login\"); // חזרה לדף הלוגין\r\n    } catch (err) {\r\n      console.error(\"Register error:\", err.response?.data || err);\r\n      alert(\"שגיאה בהרשמה. בדקי את הקונסול\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth-page\">\r\n      <h2>Register</h2>\r\n      <form onSubmit={register}>\r\n        <input\r\n          placeholder=\"Username\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button>Register</button>\r\n      </form>\r\n      <a href=\"#\" onClick={() => onRegister(\"login\")}>\r\n        יש לי כבר משתמש\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAiB,IAAhB,CAAEC,UAAW,CAAC,CAAAD,IAAA,CAC7C,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAE5C,cAAe,CAAAa,QAAQA,CAACC,CAAC,CAAE,CACzBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAE,CAAER,QAAQ,CAAEE,QAAS,CAAC,CAAC,CAE1D,GAAI,CACF;AACA,KAAM,CAAAO,GAAG,CAAG,KAAM,CAAAjB,KAAK,CAACkB,IAAI,CAAC,gCAAgC,CAAE,CAC7DV,QAAQ,CAAI;AACZE,QAAY;AACd,CAAC,CAAC,CAEFK,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEC,GAAG,CAACE,IAAI,CAAC,CAC3CC,KAAK,CAAC,eAAe,CAAC,CACtBb,UAAU,CAAC,OAAO,CAAC,CAAE;AACvB,CAAE,MAAOc,GAAG,CAAE,KAAAC,aAAA,CACZP,OAAO,CAACQ,KAAK,CAAC,iBAAiB,CAAE,EAAAD,aAAA,CAAAD,GAAG,CAACG,QAAQ,UAAAF,aAAA,iBAAZA,aAAA,CAAcH,IAAI,GAAIE,GAAG,CAAC,CAC3DD,KAAK,CAAC,+BAA+B,CAAC,CACxC,CACF,CAEA,mBACEhB,KAAA,QAAKqB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBxB,IAAA,OAAAwB,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBtB,KAAA,SAAMuB,QAAQ,CAAEf,QAAS,CAAAc,QAAA,eACvBxB,IAAA,UACE0B,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAErB,QAAS,CAChBsB,QAAQ,CAAGjB,CAAC,EAAKJ,WAAW,CAACI,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAE,CAC9C,CAAC,cACF3B,IAAA,UACE8B,IAAI,CAAC,UAAU,CACfJ,WAAW,CAAC,UAAU,CACtBC,KAAK,CAAEnB,QAAS,CAChBoB,QAAQ,CAAGjB,CAAC,EAAKF,WAAW,CAACE,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAE,CAC9C,CAAC,cACF3B,IAAA,WAAAwB,QAAA,CAAQ,UAAQ,CAAQ,CAAC,EACrB,CAAC,cACPxB,IAAA,MAAG+B,IAAI,CAAC,GAAG,CAACC,OAAO,CAAEA,CAAA,GAAM3B,UAAU,CAAC,OAAO,CAAE,CAAAmB,QAAA,CAAC,6EAEhD,CAAG,CAAC,EACD,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}